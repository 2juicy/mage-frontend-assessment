(this["webpackJsonpmage-frontend-assessment"]=this["webpackJsonpmage-frontend-assessment"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(7),r=n.n(s),i=(n(12),n(5)),u=n(2),o=(n(13),n(14),n(15),n(0));function l(e){var t=e.thumbnail;return Object(o.jsx)("div",{className:"thumbnail",children:Object(o.jsx)("img",{src:t,alt:"thumbnail"})})}n(17);function d(e){var t=e.grades,n=e.findAverage,a=e.children;return Object(o.jsxs)("table",{className:"grades",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Average:\xa0"}),Object(o.jsxs)("th",{children:[n(t),"%"]})]})}),a]})}n(18);function j(e){var t=e.contents,n=e.show;return Object(o.jsx)("tbody",{className:n,children:t.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsxs)("td",{children:["Test ",t+1,":"]}),Object(o.jsxs)("td",{children:[e,"%"]})]},t)}))})}n(19);function h(e){var t=e.placeholder,n=e.addTag,c=e.index,s=Object(a.useState)(""),r=Object(u.a)(s,2),i=r[0],l=r[1];return Object(o.jsx)("input",{className:"tag-input",value:i,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(n(e.target.value.trim(),c),l(""))},placeholder:t})}function b(e){var t=e.users,n=e.findAverage,a=e.handleExpand,c=e.addTag;return Object(o.jsx)(o.Fragment,{children:t.map((function(e,t){return Object(o.jsxs)("div",{className:"flex-container",children:[Object(o.jsx)(l,{thumbnail:e.pic}),Object(o.jsxs)("div",{className:"user-info",children:[Object(o.jsxs)("h2",{children:[e.firstName," ",e.lastName]}),Object(o.jsxs)("p",{children:["Email: ",e.email]}),Object(o.jsxs)("p",{children:["Company: ",e.company]}),Object(o.jsxs)("p",{children:["Skill: ",e.skill]}),Object(o.jsx)(d,{grades:e.grades,findAverage:n,children:Object(o.jsx)(j,{contents:e.grades,show:e.show?"expandible":"hidden"})}),e.tags.length?Object(o.jsx)("div",{className:"tagbar",children:e.tags.map((function(e,t){return Object(o.jsx)("p",{children:e},t)}))}):null,Object(o.jsx)(h,{className:"tag-input",placeholder:"Add a tag",addTag:c,index:t})]}),Object(o.jsx)("button",{type:"button",className:"expandible-button",onClick:function(){return a(t)},children:e.show?"-":"+"})]},e.id)}))})}function f(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(u.a)(s,2),l=r[0],d=r[1],j=Object(a.useState)(""),h=Object(u.a)(j,2),f=h[0],O=h[1],g=Object(a.useState)(""),x=Object(u.a)(g,2),p=x[0],m=x[1];function v(e,t){var a=[];if(n.forEach((function(t){t.firstName.concat(" ",t.lastName).toLowerCase().replace(/\s/g,"").indexOf(e.toLowerCase().replace(/\s/g,""))>-1&&a.push(t)})),t.length>0){var c=[];return a.forEach((function(e){e.tags.length>0&&e.tags.some((function(n){return n.toLowerCase().replace(/\s/g,"").indexOf(t.toLowerCase().replace(/\s/g,""))>-1&&c.push(e)}))})),d(c)}return d(a)}return Object(a.useEffect)((function(){var e;(e="https://api.hatchways.io/assessment/students",fetch(e).then((function(e){if(e.ok)return e.json();throw e})).catch((function(e){return console.error("Bad request",e)}))).then((function(e){c(e.students),e.students.forEach((function(e){e.show=!1,e.tags=[]})),d(e.students)}))}),[]),Object(o.jsxs)("div",{className:"paper",children:[Object(o.jsx)("input",{className:"searchbar",value:f,onChange:function(e){return O(e.target.value)},onKeyUp:function(e){return v(e.target.value.trim(),p)},placeholder:"Search by name"}),Object(o.jsx)("input",{className:"searchbar",value:p,onChange:function(e){return m(e.target.value)},onKeyUp:function(e){return v(f,e.target.value.trim())},placeholder:"Search by tag"}),Object(o.jsx)(b,{users:l,findAverage:function(e){return e.reduce((function(e,t,n,a){return e+t/a.length}),0)},handleExpand:function(e){l[e].show=!l[e].show,d(Object(i.a)(l))},addTag:function(e,t){l[t].tags.includes(e)||(l[t].tags=[].concat(Object(i.a)(l[t].tags),[e]),d(Object(i.a)(l)))}})]})}var O=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(f,{})})};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.851e904b.chunk.js.map