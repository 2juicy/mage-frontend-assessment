{"version":3,"sources":["components/Thumbnail/Thumbnail.js","components/Grades/Grades.js","components/Expandible/Expandible.js","components/AddTag/AddTag.js","components/UserInfo/UserInfo.js","pages/User/User.js","App.js","index.js"],"names":["Thumbnail","thumbnail","className","src","alt","Grades","grades","findAverage","children","Expandible","contents","show","map","content","index","AddTag","placeholder","addTag","useState","input","setInput","value","onChange","e","target","onKeyDown","key","trim","UserInfo","users","handleExpand","user","pic","firstName","lastName","email","company","skill","tags","length","tag","type","onClick","id","User","results","setResults","filter","setFilter","name","setName","setTag","filterResults","filterArr","forEach","result","concat","toLowerCase","replace","indexOf","push","filterTag","some","data","useEffect","url","fetch","then","response","ok","json","catch","error","console","students","student","onKeyUp","arr","reduce","avg","_","includes","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.851e904b.chunk.js","sourcesContent":["import \"./Thumbnail.css\";\r\n\r\nexport default function Thumbnail({ thumbnail }) {\r\n  return (\r\n    <div className=\"thumbnail\">\r\n      <img src={thumbnail} alt=\"thumbnail\" />\r\n    </div>\r\n  );\r\n}\r\n","import \"./Grades.css\";\n\nexport default function Grades({ grades, findAverage, children }) {\n  return (\n    <table className=\"grades\">\n      <thead>\n        <tr>\n          <th>Average:&nbsp;</th>\n          <th>{findAverage(grades)}%</th>\n        </tr>\n      </thead>\n      {children}\n    </table>\n  );\n}\n","import \"./Expandible.css\";\n\nexport default function Expandible({ contents, show }) {\n  return (\n    <tbody className={show}>\n      {contents.map((content, index) => (\n        <tr key={index}>\n          <td>Test {index + 1}:</td>\n          <td>{content}%</td>\n        </tr>\n      ))}\n    </tbody>\n  );\n}\n","import \"./AddTag.css\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function AddTag({ placeholder, addTag, index }) {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  return (\r\n    <input\r\n      className=\"tag-input\"\r\n      value={input}\r\n      onChange={e => setInput(e.target.value)}\r\n      onKeyDown={e => {\r\n        if (e.key === \"Enter\") {\r\n          addTag(e.target.value.trim(), index);\r\n          setInput(\"\");\r\n        }\r\n      }}\r\n      placeholder={placeholder}\r\n    />\r\n  );\r\n}\r\n","import \"./UserInfo.css\";\nimport Thumbnail from \"../Thumbnail/Thumbnail\";\nimport Grades from \"../Grades/Grades\";\nimport Expandible from \"../Expandible/Expandible\";\nimport AddTag from \"../AddTag/AddTag\";\n\nexport default function UserInfo({ users, findAverage, handleExpand, addTag }) {\n  return (\n    <>\n      {users.map((user, index) => (\n        <div className=\"flex-container\" key={user.id}>\n          <Thumbnail thumbnail={user.pic} />\n          <div className=\"user-info\">\n            <h2>\n              {user.firstName} {user.lastName}\n            </h2>\n            <p>Email: {user.email}</p>\n            <p>Company: {user.company}</p>\n            <p>Skill: {user.skill}</p>\n            <Grades grades={user.grades} findAverage={findAverage}>\n              <Expandible\n                contents={user.grades}\n                show={user.show ? \"expandible\" : \"hidden\"}\n              />\n            </Grades>\n            {user.tags.length ? (\n              <div className=\"tagbar\">\n                {user.tags.map((tag, index) => (\n                  <p key={index}>{tag}</p>\n                ))}\n              </div>\n            ) : null}\n            <AddTag\n              className=\"tag-input\"\n              placeholder=\"Add a tag\"\n              addTag={addTag}\n              index={index}\n            />\n          </div>\n          <button\n            type=\"button\"\n            className=\"expandible-button\"\n            onClick={() => handleExpand(index)}\n          >\n            {user.show ? \"-\" : \"+\"}\n          </button>\n        </div>\n      ))}\n    </>\n  );\n}\n","import \"./User.css\";\nimport { useState, useEffect } from \"react\";\nimport UserInfo from \"../../components/UserInfo/UserInfo\";\n\nexport default function User() {\n  // Stored fetch request data\n  const URL = \"https://api.hatchways.io/assessment/students\";\n  const [results, setResults] = useState([]);\n  // Search plus filtered results\n  const [filter, setFilter] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [tag, setTag] = useState(\"\");\n\n  function fetchData(url) {\n    return fetch(url)\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw response;\n      })\n      .catch(error => console.error(\"Bad request\", error));\n  }\n\n  useEffect(() => {\n    fetchData(URL).then(data => {\n      setResults(data.students);\n      data.students.forEach(student => {\n        student.show = false;\n        student.tags = [];\n      });\n      setFilter(data.students);\n    });\n  }, []);\n\n  function filterResults(name, tag) {\n    // First we filter by name\n    let filterArr = [];\n    results.forEach(result => {\n      if (\n        result.firstName\n          .concat(\" \", result.lastName)\n          .toLowerCase()\n          .replace(/\\s/g, \"\")\n          .indexOf(name.toLowerCase().replace(/\\s/g, \"\")) > -1\n      ) {\n        filterArr.push(result);\n      }\n    });\n\n    // If a tag parameter exists we then continue to filter by tag\n    if (tag.length > 0) {\n      let filterTag = [];\n      filterArr.forEach(result => {\n        if (result.tags.length > 0) {\n          result.tags.some(data => {\n            if (\n              data\n                .toLowerCase()\n                .replace(/\\s/g, \"\")\n                .indexOf(tag.toLowerCase().replace(/\\s/g, \"\")) > -1\n            ) {\n              return filterTag.push(result);\n            }\n            return false;\n          });\n        }\n      });\n      return setFilter(filterTag);\n    }\n    return setFilter(filterArr);\n  }\n\n  function findAverage(arr) {\n    return arr.reduce(function (avg, value, _, { length }) {\n      return avg + value / length;\n    }, 0);\n  }\n\n  function handleExpand(index) {\n    filter[index].show = !filter[index].show;\n    setFilter([...filter]);\n  }\n\n  function addTag(tag, index) {\n    if (!filter[index].tags.includes(tag)) {\n      filter[index].tags = [...filter[index].tags, tag];\n      setFilter([...filter]);\n    }\n  }\n\n  return (\n    <div className=\"paper\">\n      <input\n        className=\"searchbar\"\n        value={name}\n        onChange={e => setName(e.target.value)}\n        onKeyUp={e => filterResults(e.target.value.trim(), tag)}\n        placeholder=\"Search by name\"\n      />\n      <input\n        className=\"searchbar\"\n        value={tag}\n        onChange={e => setTag(e.target.value)}\n        onKeyUp={e => filterResults(name, e.target.value.trim())}\n        placeholder=\"Search by tag\"\n      />\n      <UserInfo\n        users={filter}\n        findAverage={findAverage}\n        handleExpand={handleExpand}\n        addTag={addTag}\n      />\n    </div>\n  );\n}\n","import User from \"./pages/User/User\";\n\nfunction App() {\n  return (\n    <div>\n      <User />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}