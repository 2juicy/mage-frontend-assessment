{"version":3,"sources":["components/Thumbnail/Thumbnail.js","components/Grades/Grades.js","components/Expandible/Expandible.js","components/AddTag/AddTag.js","components/UserInfo/UserInfo.js","components/Searchbar/Searchbar.js","pages/User/User.js","App.js","index.js"],"names":["Thumbnail","thumbnail","className","src","alt","React","memo","Grades","grades","children","findAverage","useCallback","arr","reduce","avg","value","_","length","averageGrade","useMemo","Expandible","contents","show","map","content","index","AddTag","placeholder","addTag","useState","input","setInput","onChange","e","target","onKeyDown","key","trim","UserInfo","users","handleExpand","user","pic","firstName","lastName","email","company","skill","tags","tag","type","onClick","id","Searchbar","name","handleForm","handleInput","onKeyUp","User","results","setResults","filter","setFilter","form","setForm","filterResults","findWord","string","toLowerCase","replace","indexOf","filterArr","forEach","result","push","filterTag","some","data","useEffect","url","fetch","then","response","ok","json","catch","error","console","students","student","clonedData","JSON","parse","stringify","includes","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iZAGA,SAASA,EAAT,GAAmC,IAAdC,EAAa,EAAbA,UACnB,OACE,qBAAKC,UAAU,YAAf,SACE,qBAAKC,IAAKF,EAAWG,IAAI,gBAKhBC,UAAMC,KAAKN,G,MCRX,SAASO,EAAT,GAAuC,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,SACjCC,EAAcC,uBAAY,SAAAC,GAC9B,OAAOA,EAAIC,QAAO,SAAUC,EAAKC,EAAOC,EAAtB,GAChB,OAAOF,EAAMC,EADwC,EAAVE,SAE1C,KACF,IAEGC,EAAeC,mBACnB,kBAAMT,EAAYF,KAClB,CAACA,EAAQE,IAGX,OACE,wBAAOR,UAAU,SAAjB,UACE,gCACE,+BACE,8CACA,+BAAKgB,EAAL,YAGHT,K,MCpBP,SAASW,EAAT,GAAyC,IAAnBC,EAAkB,EAAlBA,SAAUC,EAAQ,EAARA,KAC9B,OACE,uBAAOpB,UAAWoB,EAAlB,SACGD,EAASE,KAAI,SAACC,EAASC,GAAV,OACZ,+BACE,uCAAUA,EAAQ,EAAlB,OACA,+BAAKD,EAAL,SAFOC,QASFpB,UAAMC,KAAKc,G,MCbX,SAASM,EAAT,GAAiD,IAA/BC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,OAAQH,EAAS,EAATA,MAAS,EACnCI,mBAAS,IAD0B,mBACtDC,EADsD,KAC/CC,EAD+C,KAG7D,OACE,uBACE7B,UAAU,YACVa,MAAOe,EACPE,SAAU,SAAAC,GAAC,OAAIF,EAASE,EAAEC,OAAOnB,QACjCoB,UAAW,SAAAF,GACK,UAAVA,EAAEG,MACJR,EAAOK,EAAEC,OAAOnB,MAAMsB,OAAQZ,GAC9BM,EAAS,MAGbJ,YAAaA,ICXJ,SAASW,EAAT,GAAoD,IAAhCC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,aAAcZ,EAAU,EAAVA,OACtD,OACE,mCACGW,EAAMhB,KAAI,SAACkB,EAAMhB,GAAP,OACT,sBAAKvB,UAAU,iBAAf,UACE,cAAC,EAAD,CAAWD,UAAWwC,EAAKC,MAC3B,sBAAKxC,UAAU,YAAf,UACE,+BACGuC,EAAKE,UADR,IACoBF,EAAKG,YAEzB,wCAAWH,EAAKI,SAChB,0CAAaJ,EAAKK,WAClB,wCAAWL,EAAKM,SAChB,cAAC,EAAD,CAAQvC,OAAQiC,EAAKjC,OAArB,SACE,cAAC,EAAD,CACEa,SAAUoB,EAAKjC,OACfc,KAAMmB,EAAKnB,KAAO,aAAe,aAGpCmB,EAAKO,KAAK/B,OAAS,GAClB,qBAAKf,UAAU,SAAf,SACGuC,EAAKO,KAAKzB,KAAI,SAAC0B,EAAKxB,GAAN,OACb,4BAAgBwB,GAARxB,QAId,cAAC,EAAD,CACEvB,UAAU,YACVyB,YAAY,YACZC,OAAQA,EACRH,MAAOA,OAGX,wBACEyB,KAAK,SACLhD,UAAU,oBACViD,QAAS,kBAAMX,EAAaf,IAH9B,SAKGgB,EAAKnB,KAAO,IAAM,QAlCcmB,EAAKW,S,MCRnC,SAASC,EAAT,GAMX,IALFtC,EAKC,EALDA,MACAuC,EAIC,EAJDA,KACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,YACA7B,EACC,EADDA,YAEA,OACE,uBACEA,YAAaA,EACb2B,KAAMA,EACNpD,UAAU,YACVa,MAAOA,EACPiB,SAAU,SAAAC,GAAC,OAAIsB,EAAWtB,IAC1BwB,QAASD,ICXA,SAASE,IAEtB,IAF6B,EAGC7B,mBAAS,IAHV,mBAGtB8B,EAHsB,KAGbC,EAHa,OAKD/B,mBAAS,IALR,mBAKtBgC,EALsB,KAKdC,EALc,OAMLjC,mBAAS,CAC/ByB,KAAM,GACNL,IAAK,KARsB,mBAMtBc,EANsB,KAMhBC,EANgB,KAiC7B,SAASC,EAAcX,EAAML,GAE3B,SAASiB,EAAShC,EAAQiC,GACxB,OAAOjC,EACJkC,cACAC,QAAQ,MAAO,IACfC,QAAQH,EAAOC,cAAcC,QAAQ,MAAO,MAAQ,EAKzD,IAAIE,EAAY,GAMhB,GALAZ,EAAQa,SAAQ,SAAAC,GACVP,EAASO,EAAO9B,UAAY8B,EAAO7B,SAAUU,IAC/CiB,EAAUG,KAAKD,MAGfxB,EAAIhC,OAAS,EAAG,CAClB,IAAI0D,EAAY,GAOhB,OANAJ,EAAUC,SAAQ,SAAAC,GAChBA,EAAOzB,KAAK4B,MAAK,SAAAC,GACf,QAAIX,EAASW,EAAM5B,IAAa0B,EAAUD,KAAKD,SAI5CX,EAAUa,GAEnB,OAAOb,EAAUS,GAGnB,SAAShB,EAAWtB,GAClB+B,EAAQ,2BACHD,GADE,kBAEJ9B,EAAEC,OAAOoB,KAAOrB,EAAEC,OAAOnB,SAkB9B,OA9DA+D,qBAAU,WAXV,IAAmBC,KATP,+CAUHC,MAAMD,GACVE,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElB,MAAMF,KAEPG,OAAM,SAAAC,GAAK,OAAIC,QAAQD,MAAM,cAAeA,OAIhCL,MAAK,SAAAJ,GAClBjB,EAAWiB,EAAKW,UAChBX,EAAKW,SAAShB,SAAQ,SAAAiB,GACpBA,EAAQnE,MAAO,EACfmE,EAAQzC,KAAO,MAEjBc,EAAUe,EAAKW,eAEhB,IAsDD,sBAAKtF,UAAU,QAAf,UACE,cAAC,EAAD,CACEyB,YAAY,iBACZ2B,KAAK,OACLvC,MAAOgD,EAAKT,KACZC,WAAYA,EACZC,YAAa,kBAAMS,EAAcF,EAAKT,KAAMS,EAAKd,QAEnD,cAAC,EAAD,CACEtB,YAAY,gBACZ2B,KAAK,MACLvC,MAAOgD,EAAKd,IACZM,WAAYA,EACZC,YAAa,kBAAMS,EAAcF,EAAKT,KAAMS,EAAKd,QAEnD,cAAC,EAAD,CAAUV,MAAOsB,EAAQrB,aA9B7B,SAAsBf,GAEpB,IAAIiE,EAAaC,KAAKC,MAAMD,KAAKE,UAAUhC,IAC3C6B,EAAWjE,GAAOH,MAAQoE,EAAWjE,GAAOH,KAC5CwC,EAAU,YAAI4B,KA0ByC9D,OAvBzD,SAAgBqB,EAAKxB,GACdoC,EAAOpC,GAAOuB,KAAK8C,SAAS7C,KAC/BY,EAAOpC,GAAOuB,KAAd,sBAAyBa,EAAOpC,GAAOuB,MAAvC,CAA6CC,IAC7Ca,EAAU,YAAID,WC3ELkC,MARf,WACE,OACE,8BACE,cAAC,EAAD,OCANC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.934b15f4.chunk.js","sourcesContent":["import \"./Thumbnail.css\";\r\nimport React from \"react\";\r\n\r\nfunction Thumbnail({ thumbnail }) {\r\n  return (\r\n    <div className=\"thumbnail\">\r\n      <img src={thumbnail} alt=\"thumbnail\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(Thumbnail);\r\n","import \"./Grades.css\";\nimport { useMemo, useCallback } from \"react\";\n\nexport default function Grades({ grades, children }) {\n  const findAverage = useCallback(arr => {\n    return arr.reduce(function (avg, value, _, { length }) {\n      return avg + value / length;\n    }, 0);\n  }, []);\n\n  const averageGrade = useMemo(\n    () => findAverage(grades),\n    [grades, findAverage]\n  );\n\n  return (\n    <table className=\"grades\">\n      <thead>\n        <tr>\n          <th>Average:&nbsp;</th>\n          <th>{averageGrade}%</th>\n        </tr>\n      </thead>\n      {children}\n    </table>\n  );\n}\n","import \"./Expandible.css\";\nimport React from \"react\";\n\nfunction Expandible({ contents, show }) {\n  return (\n    <tbody className={show}>\n      {contents.map((content, index) => (\n        <tr key={index}>\n          <td>Test {index + 1}:</td>\n          <td>{content}%</td>\n        </tr>\n      ))}\n    </tbody>\n  );\n}\n\nexport default React.memo(Expandible);\n","import \"./AddTag.css\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function AddTag({ placeholder, addTag, index }) {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  return (\r\n    <input\r\n      className=\"tag-input\"\r\n      value={input}\r\n      onChange={e => setInput(e.target.value)}\r\n      onKeyDown={e => {\r\n        if (e.key === \"Enter\") {\r\n          addTag(e.target.value.trim(), index);\r\n          setInput(\"\");\r\n        }\r\n      }}\r\n      placeholder={placeholder}\r\n    />\r\n  );\r\n}\r\n","import \"./UserInfo.css\";\nimport Thumbnail from \"../Thumbnail/Thumbnail\";\nimport Grades from \"../Grades/Grades\";\nimport Expandible from \"../Expandible/Expandible\";\nimport AddTag from \"../AddTag/AddTag\";\n\nexport default function UserInfo({ users, handleExpand, addTag }) {\n  return (\n    <>\n      {users.map((user, index) => (\n        <div className=\"flex-container\" key={user.id}>\n          <Thumbnail thumbnail={user.pic} />\n          <div className=\"user-info\">\n            <h2>\n              {user.firstName} {user.lastName}\n            </h2>\n            <p>Email: {user.email}</p>\n            <p>Company: {user.company}</p>\n            <p>Skill: {user.skill}</p>\n            <Grades grades={user.grades}>\n              <Expandible\n                contents={user.grades}\n                show={user.show ? \"expandible\" : \"hidden\"}\n              />\n            </Grades>\n            {user.tags.length > 0 && (\n              <div className=\"tagbar\">\n                {user.tags.map((tag, index) => (\n                  <p key={index}>{tag}</p>\n                ))}\n              </div>\n            )}\n            <AddTag\n              className=\"tag-input\"\n              placeholder=\"Add a tag\"\n              addTag={addTag}\n              index={index}\n            />\n          </div>\n          <button\n            type=\"button\"\n            className=\"expandible-button\"\n            onClick={() => handleExpand(index)}\n          >\n            {user.show ? \"-\" : \"+\"}\n          </button>\n        </div>\n      ))}\n    </>\n  );\n}\n","import \"./Searchbar.css\";\n\nexport default function Searchbar({\n  value,\n  name,\n  handleForm,\n  handleInput,\n  placeholder,\n}) {\n  return (\n    <input\n      placeholder={placeholder}\n      name={name}\n      className=\"searchbar\"\n      value={value}\n      onChange={e => handleForm(e)}\n      onKeyUp={handleInput}\n    />\n  );\n}\n","import \"./User.css\";\nimport { useState, useEffect } from \"react\";\nimport UserInfo from \"../../components/UserInfo/UserInfo\";\nimport Searchbar from \"../../components/Searchbar/Searchbar\";\n\nexport default function User() {\n  // Stored fetch request data\n  const URL = \"https://api.hatchways.io/assessment/students\";\n  const [results, setResults] = useState([]);\n  // Search plus filtered results\n  const [filter, setFilter] = useState([]);\n  const [form, setForm] = useState({\n    name: \"\",\n    tag: \"\",\n  });\n\n  function fetchData(url) {\n    return fetch(url)\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw response;\n      })\n      .catch(error => console.error(\"Bad request\", error));\n  }\n\n  useEffect(() => {\n    fetchData(URL).then(data => {\n      setResults(data.students);\n      data.students.forEach(student => {\n        student.show = false;\n        student.tags = [];\n      });\n      setFilter(data.students);\n    });\n  }, []);\n\n  function filterResults(name, tag) {\n    // We use this function to see a substring or string exists in target string.\n    function findWord(target, string) {\n      return target\n        .toLowerCase()\n        .replace(/\\s/g, \"\")\n        .indexOf(string.toLowerCase().replace(/\\s/g, \"\")) > -1\n        ? true\n        : false;\n    }\n    // First we filter by name by looping through.\n    let filterArr = [];\n    results.forEach(result => {\n      if (findWord(result.firstName + result.lastName, name))\n        filterArr.push(result);\n    });\n    // If a tag parameter exists we then continue to filter by tag.\n    if (tag.length > 0) {\n      let filterTag = [];\n      filterArr.forEach(result => {\n        result.tags.some(data => {\n          if (findWord(data, tag)) return filterTag.push(result);\n          return false;\n        });\n      });\n      return setFilter(filterTag);\n    }\n    return setFilter(filterArr);\n  }\n\n  function handleForm(e) {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  }\n\n  function handleExpand(index) {\n    // We clone the data to remove references before we set the state to avoid mutating the state.\n    let clonedData = JSON.parse(JSON.stringify(filter));\n    clonedData[index].show = !clonedData[index].show;\n    setFilter([...clonedData]);\n  }\n\n  function addTag(tag, index) {\n    if (!filter[index].tags.includes(tag)) {\n      filter[index].tags = [...filter[index].tags, tag];\n      setFilter([...filter]);\n    }\n  }\n\n  return (\n    <div className=\"paper\">\n      <Searchbar\n        placeholder=\"Search by name\"\n        name=\"name\"\n        value={form.name}\n        handleForm={handleForm}\n        handleInput={() => filterResults(form.name, form.tag)}\n      />\n      <Searchbar\n        placeholder=\"Search by tag\"\n        name=\"tag\"\n        value={form.tag}\n        handleForm={handleForm}\n        handleInput={() => filterResults(form.name, form.tag)}\n      />\n      <UserInfo users={filter} handleExpand={handleExpand} addTag={addTag} />\n    </div>\n  );\n}\n","import User from \"./pages/User/User\";\n\nfunction App() {\n  return (\n    <div>\n      <User />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}