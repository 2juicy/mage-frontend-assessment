(this["webpackJsonpmage-frontend-assessment"]=this["webpackJsonpmage-frontend-assessment"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(9),r=n.n(s),i=(n(14),n(6)),u=n(5),o=n(8),l=n(2),d=(n(15),n(16),n(17),n(0));function j(e){var t=e.thumbnail;return Object(d.jsx)("div",{className:"thumbnail",children:Object(d.jsx)("img",{src:t,alt:"thumbnail"})})}var h=c.a.memo(j);n(19);function b(e){var t=e.grades,n=e.children,c=Object(a.useCallback)((function(e){return e.reduce((function(e,t,n,a){return e+t/a.length}),0)}),[]),s=Object(a.useMemo)((function(){return c(t)}),[t,c]);return Object(d.jsxs)("table",{className:"grades",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Average:\xa0"}),Object(d.jsxs)("th",{children:[s,"%"]})]})}),n]})}n(20);function f(e){var t=e.contents,n=e.show;return Object(d.jsx)("tbody",{className:n,children:t.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:["Test ",t+1,":"]}),Object(d.jsxs)("td",{children:[e,"%"]})]},t)}))})}var m=c.a.memo(f);n(21);function O(e){var t=e.placeholder,n=e.addTag,c=e.index,s=Object(a.useState)(""),r=Object(l.a)(s,2),i=r[0],u=r[1];return Object(d.jsx)("input",{className:"tag-input",value:i,onChange:function(e){return u(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(n(e.target.value.trim(),c),u(""))},placeholder:t})}function g(e){var t=e.users,n=e.handleExpand,a=e.addTag;return Object(d.jsx)(d.Fragment,{children:t.map((function(e,t){return Object(d.jsxs)("div",{className:"flex-container",children:[Object(d.jsx)(h,{thumbnail:e.pic}),Object(d.jsxs)("div",{className:"user-info",children:[Object(d.jsxs)("h2",{children:[e.firstName," ",e.lastName]}),Object(d.jsxs)("p",{children:["Email: ",e.email]}),Object(d.jsxs)("p",{children:["Company: ",e.company]}),Object(d.jsxs)("p",{children:["Skill: ",e.skill]}),Object(d.jsx)(b,{grades:e.grades,children:Object(d.jsx)(m,{contents:e.grades,show:e.show?"expandible":"hidden"})}),e.tags.length>0&&Object(d.jsx)("div",{className:"tagbar",children:e.tags.map((function(e,t){return Object(d.jsx)("p",{children:e},t)}))}),Object(d.jsx)(O,{className:"tag-input",placeholder:"Add a tag",addTag:a,index:t})]}),Object(d.jsx)("button",{type:"button",className:"expandible-button",onClick:function(){return n(t)},children:e.show?"-":"+"})]},e.id)}))})}n(22);function p(e){var t=e.value,n=e.name,a=e.handleForm,c=e.handleInput,s=e.placeholder;return Object(d.jsx)("input",{placeholder:s,name:n,className:"searchbar",value:t,onChange:function(e){return a(e)},onKeyUp:c})}function x(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(l.a)(s,2),j=r[0],h=r[1],b=Object(a.useState)({name:"",tag:""}),f=Object(l.a)(b,2),m=f[0],O=f[1];function x(e,t){function a(e,t){return e.toLowerCase().replace(/\s/g,"").indexOf(t.toLowerCase().replace(/\s/g,""))>-1}var c=[];if(n.forEach((function(t){a(t.firstName+t.lastName,e)&&c.push(t)})),t.length>0){var s=[];return c.forEach((function(e){e.tags.some((function(n){return!!a(n,t)&&s.push(e)}))})),h(s)}return h(c)}function v(e){O(Object(o.a)(Object(o.a)({},m),{},Object(u.a)({},e.target.name,e.target.value)))}return Object(a.useEffect)((function(){var e;(e="https://api.hatchways.io/assessment/students",fetch(e).then((function(e){if(e.ok)return e.json();throw e})).catch((function(e){return console.error("Bad request",e)}))).then((function(e){c(e.students),e.students.forEach((function(e){e.show=!1,e.tags=[]})),h(e.students)}))}),[]),Object(d.jsxs)("div",{className:"paper",children:[Object(d.jsx)(p,{placeholder:"Search by name",name:"name",value:m.name,handleForm:v,handleInput:function(){return x(m.name,m.tag)}}),Object(d.jsx)(p,{placeholder:"Search by tag",name:"tag",value:m.tag,handleForm:v,handleInput:function(){return x(m.name,m.tag)}}),Object(d.jsx)(g,{users:j,handleExpand:function(e){var t=JSON.parse(JSON.stringify(j));t[e].show=!t[e].show,h(Object(i.a)(t))},addTag:function(e,t){j[t].tags.includes(e)||(j[t].tags=[].concat(Object(i.a)(j[t].tags),[e]),h(Object(i.a)(j)))}})]})}var v=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(x,{})})};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.934b15f4.chunk.js.map